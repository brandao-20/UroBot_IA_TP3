<!DOCTYPE html>
<html lang="pt-pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ESTG RegPedagogicoBot</title>
  <link rel="stylesheet" href="static/style.css" />
</head>

<body>
  <div class="app-container">
    <header class="app-header">
      <img src="static/ESTG_logo.png" alt="Logo ESTG" class="logo-main" />
      <div class="header-text">
        <h1>ESTG RegPedagogicoBot</h1>
        <p>Assistente para o Regulamento Pedagógico da ESTG</p>
      </div>
    </header>

    <main class="app-main">
      <form method="post" class="form-query">
        <textarea
          name="query"
          placeholder="Coloca aqui a tua questão…"
          required
          class="input-query"
        ></textarea>
        <button type="submit" class="btn-submit">Perguntar</button>
      </form>

      <section class="quick-questions">
        <h2>Perguntas Rápidas</h2>
        <form action="/" method="post" class="quick-buttons">
          <button type="submit" name="query" value="Como posso justificar as faltas?" class="btn-quick">
            Justificar faltas
          </button>
          <button type="submit" name="query" value="O que é a avaliação contínua?" class="btn-quick">
            Avaliação contínua
          </button>
          <button type="submit" name="query" value="Qual o prazo para recorrer de nota?" class="btn-quick">
            Prazo para recurso
          </button>
        </form>
      </section>

      {% if query %}
      <section class="response-section">
        <div class="response-box user-box">
          <strong>Tu:</strong>
          <p>{{ query }}</p>
        </div>
        <div class="response-box bot-box">
          <strong>Bot:</strong>
          <p>{{ answer }}</p>
        </div>
      </section>
      {% endif %}

      {% if documents %}
      <section class="docs-section">
        {% for doc in documents %}
          <div class="doc-card">{{ doc|safe }}</div>
        {% endfor %}
      </section>
      {% endif %}
    </main>

    <footer class="app-footer">
      <p>© ESTG RegPedagogicoBot 2025</p>
    </footer>
  </div>
</body>
</html>
